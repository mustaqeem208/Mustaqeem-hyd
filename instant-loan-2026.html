<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ᗰᑌᔕTᗩᑫEEᗰ HYD - mustaqeem hyd.site</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@700;800;900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1874063367142441" crossorigin="anonymous"></script>

    <style>
        :root { 
            --accent: #ff0033; 
            --primary: #0b5f66;
            --dark: #0f172a; 
            --text: #1e293b; 
            --bg: #f1f5f9; 
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg); 
            margin: 0; 
            color: var(--text); 
            line-height: 1.8; 
            -webkit-font-smoothing: antialiased;
        }

        #scrollBar { 
            position: fixed; top: 0; left: 0; width: 0%; height: 4px; 
            background: linear-gradient(to right, var(--accent), #ff4d4d); 
            z-index: 2001; transition: width 0.1s ease-out;
        }
        
        .nav { 
            padding: 18px 25px; background: rgba(255, 255, 255, 0.9); 
            backdrop-filter: blur(20px); position: sticky; top: 0; z-index: 1000; 
            border-bottom: 1px solid rgba(0, 0, 0, 0.05); display: flex; 
            justify-content: space-between; align-items: center;
        }
        .back-link { text-decoration: none; color: var(--dark); font-weight: 700; font-size: 12px; display: flex; align-items: center; gap: 8px; }
        .logo-text { font-family: 'Outfit'; font-weight: 900; color: var(--accent); font-size: 22px; }

        .container { max-width: 850px; margin: 40px auto; padding: 0 20px; }
        
        .hero-card { 
            background: #fff; border-radius: 24px; overflow: hidden; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.05); border: 1px solid #e2e8f0; 
        }

        .hero-img { width: 100%; height: auto; display: block; }
        .article-body { padding: 40px; }

        h1 { font-family: 'Outfit'; font-size: clamp(26px, 6vw, 40px); color: var(--primary); line-height: 1.2; margin-bottom: 25px; }

        /* --- FIXED AD CONTAINER (Professional & Responsive) --- */
        .ad-container { 
            margin: 35px 0; 
            padding: 10px; 
            background: #f8fafc; 
            border: 2px dashed #cbd5e1; 
            border-radius: 16px; 
            text-align: center;
            min-height: 100px; /* Space reserved for ad */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: visible; /* Allows ad to breathe */
        }
        .ad-label { font-size: 10px; font-weight: 800; color: #94a3b8; letter-spacing: 2px; margin-bottom: 5px; display: block; }
        
        /* Forces AdSense to stay within bounds */
        .adsbygoogle { max-width: 100% !important; display: block !important; }

        .dynamic-link {
            display: inline-flex; align-items: center; gap: 10px; background: #fff; 
            padding: 14px 24px; border-radius: 14px; text-decoration: none !important; 
            font-weight: 700; color: var(--dark) !important; margin: 10px 5px; 
            border: 1px solid #e2e8f0; box-shadow: 0 4px 6px rgba(0,0,0,0.04); transition: 0.3s;
        }
        .dynamic-link:hover { transform: translateY(-3px); border-color: var(--accent); }

        .skeleton-loader { display: block; padding: 40px; }
        .sk-img { width: 100%; aspect-ratio: 16/9; background: #e2e8f0; border-radius: 24px; margin-bottom: 30px; }
        .sk-title { width: 80%; height: 40px; background: #e2e8f0; border-radius: 8px; margin: 0 auto 20px; }
        .sk-animate { background: linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; }
        @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

        footer { background: var(--dark); color: #94a3b8; padding: 60px 20px; text-align: center; margin-top: 60px; }
        .footer-logo { color: var(--accent); font-weight: 900; font-size: 24px; display: block; }

        @media (max-width: 600px) { .article-body { padding: 20px; } }
    </style>
</head>
<body>
    <div id="scrollBar"></div>
    <div class="nav">
        <a href="index.html" class="back-link"><i class="fa-solid fa-chevron-left"></i> BACK</a>
        <div class="logo-text">ᗰᑌᔕTᗩᑫEEᗰ HYD</div>
        <div style="width:50px;"></div>
    </div>

    <div class="container">
        <div class="hero-card" id="postContainer">
             <div class="skeleton-loader">
                <div class="sk-img sk-animate"></div>
                <div class="sk-title sk-animate"></div>
             </div>
        </div>
    </div>

    <footer>
        <span class="footer-logo">ᗰᑌᔕTᗩᑫEEᗰ</span>
        <p>© 2026 Premium News Network • Hyderabad</p>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <script>
        firebase.initializeApp({databaseURL: "https://cab-hyd-default-rtdb.firebaseio.com"});
        const db = firebase.database();
        const urlParams = new URLSearchParams(window.location.search);
        const artId = urlParams.get('id'), pageType = urlParams.get('type');

        const cacheKey = artId ? `art_${artId}` : `page_${pageType}`;

        const cachedContent = localStorage.getItem(cacheKey);
        if(cachedContent) {
            document.getElementById('postContainer').innerHTML = cachedContent;
        }

        window.onscroll = function() {
            let winScroll = document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            document.getElementById("scrollBar").style.width = (winScroll / height) * 100 + "%";
        };

        function formatViews(n) {
            n = parseInt(n) || 0;
            return n >= 1000 ? (n/1000).toFixed(1).replace(/\.0$/, '') + 'k' : n;
        }

        function processText(text) {
            if(!text) return "";
            const urlRegex = /(https?:\/\/[^\s]+|mailto:[^\s]+|[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g;
            return text.replace(urlRegex, url => {
                let icon = '<i class="fa-solid fa-globe"></i>', label = "Visit Website", finalUrl = url;
                if (url.includes("play.google.com")) { icon = '<i class="fa-brands fa-google-play"></i>'; label = "Play Store"; }
                else if (url.includes("@") && !url.includes("://")) { icon = '<i class="fa-solid fa-envelope"></i>'; label = "Email Us"; finalUrl = `mailto:${url}`; }
                return `<a href="${finalUrl}" target="_blank" class="dynamic-link">${icon} ${label}</a>`;
            });
        }

        if(artId || pageType) {
            let path = pageType ? 'site_settings/' + pageType : 'articles/' + artId;
            db.ref(path).on('value', snap => {
                const data = snap.val();
                if(!data) return;

                // FIXED AD UNIT
                const adUnit = `
                    <div class="ad-container">
                        <span class="ad-label">ADVERTISEMENT</span>
                        <ins class="adsbygoogle"
                             style="display:block"
                             data-ad-client="ca-pub-1874063367142441"
                             data-ad-slot="9832164119"
                             data-ad-format="auto"
                             data-full-width-responsive="true"></ins>
                    </div>`;

                let contentHtml = "";
                if(pageType) {
                    contentHtml = `<div class="article-body"><h1>${pageType.toUpperCase()}</h1><div style="text-align:center;">${processText(data)}</div></div>`;
                } else {
                    const views = formatViews(data.views);
                    const readTime = Math.ceil((data.content || "").split(' ').length / 200);

                    contentHtml = `
                        <img src="${data.img}" class="hero-img">
                        <div class="article-body">
                            <h1>${data.title}</h1>
                            <div style="display:flex; justify-content:center; gap:15px; font-size:12px; color:#64748b; margin-bottom:30px;">
                                <span><i class="fa-solid fa-eye"></i> ${views}</span>
                                <span><i class="fa-solid fa-calendar"></i> ${data.date}</span>
                                <span><i class="fa-solid fa-clock"></i> ${readTime} MIN</span>
                            </div>

                            ${adUnit}

                            <div style="font-size:18px; color:var(--text);">${processText(data.content)}</div>

                            ${adUnit}

                            <div style="background: #fff7ed; padding: 25px; border-radius: 16px; border: 1px solid #fed7aa; margin-top: 40px;">
                                <h3 style="margin-top:0; color:#9a3412;"><i class="fa-solid fa-hand-holding-dollar"></i> Bhai Ki Acchi Advice</h3>
                                <p style="font-size:15px; margin-bottom:0;">Loan wahi lo jo zaroori ho. Hamesha RBI-registered apps se hi transaction karein aur EMI time par bharein.</p>
                            </div>
                        </div>`;
                }
                document.getElementById('postContainer').innerHTML = contentHtml;
                localStorage.setItem(cacheKey, contentHtml);
                
                try {
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    (adsbygoogle = window.adsbygoogle || []).push({});
                } catch(e) {}
            });
        }
    </script>
</body>
</html>
